import{d as B,r as f,_ as $,k as r,l as s,m as D,f as p,n as v,p as g,t as m,Q as y,q as L,u as F,v as H,j as O}from"./index.0d22ace1.js";var A=B({props:{placeholder:{type:String,default:"\u62D6\u62FD\u6587\u4EF6\u5230\u6B64\uFF0C\u6216\u70B9\u51FB\u9009\u62E9\u6587\u4EF6"},clickHolder:{type:String,default:"\u70B9\u51FB\u9009\u62E9\u6587\u4EF6"},dragHolder:{type:String,default:"\u91CA\u653E\u9F20\u6807\u653E\u7F6E\u6587\u4EF6"},filter:{type:Array,default:[]}},emits:["upload"],setup(e,o){const t=f(null),i=f(!1),a=f(!1);function d(l){l&&(e.filter.length===0||e.filter.filter(u=>l.name.endsWith(`.${u}`)).length>0)&&o.emit("upload",l)}function n(){i.value=!0}function k(){i.value=!1}function b(){a.value=!0}function M(){a.value=!1}function E(l){var u;a.value=!1,d((u=l.dataTransfer)==null?void 0:u.files[0])}function C(){var l;d((l=t.value.files)==null?void 0:l[0])}function S(){t.value.click()}return{fileInput:t,isMoving:i,isDragging:a,onMouseOver:n,onMouseLeave:k,onDragOver:b,onDragLeave:M,onDrop:E,onFileSelected:C,selectFile:S}}});const I={class:"q-ma-xl relative-position"},w={key:0,class:"m--absolute-center flex flex-center"},N={key:1,class:"m--absolute-center flex flex-center"},V={key:0,class:"absolute-bottom q-pa-sm flex flex-center"},h=["accept"];function j(e,o,t,i,a,d){return r(),s("div",{class:H("m--drop-area"+(e.isDragging?" --dragging":""))},[D("div",{class:"fit flex flex-center relative-position",onDragover:o[0]||(o[0]=F((...n)=>e.onDragOver&&e.onDragOver(...n),["prevent"])),onDragleave:o[1]||(o[1]=(...n)=>e.onDragLeave&&e.onDragLeave(...n)),onDrop:o[2]||(o[2]=F((...n)=>e.onDrop&&e.onDrop(...n),["prevent"])),onClick:o[3]||(o[3]=(...n)=>e.selectFile&&e.selectFile(...n)),onMouseover:o[4]||(o[4]=(...n)=>e.onMouseOver&&e.onMouseOver(...n)),onMouseleave:o[5]||(o[5]=(...n)=>e.onMouseLeave&&e.onMouseLeave(...n))},[D("div",I,[e.filter.length>0?(r(),s("div",w,[p(y,{style:{transform:"translate(0, -4px)"}},{default:v(()=>[g(m(e.isDragging?e.dragHolder:e.isMoving?e.clickHolder:e.placeholder),1)]),_:1})])):(r(),s("div",N,[p(y,null,{default:v(()=>[g(m(e.isDragging?e.dragHolder:e.isMoving?e.clickHolder:e.placeholder),1)]),_:1})]))]),e.filter.length>0?(r(),s("div",V,[p(y,{caption:""},{default:v(()=>[g("\u63A5\u53D7\u7684\u6587\u4EF6\u7C7B\u578B\uFF1A"+m(e.filter.map(n=>`*.${n}`).join(" ")),1)]),_:1})])):L("",!0)],32),e.filter.length>0?(r(),s("input",{key:0,type:"file",accept:e.filter.map(n=>`.${n}`).join(", "),ref:"fileInput",style:{display:"none"},onChange:o[6]||(o[6]=(...n)=>e.onFileSelected&&e.onFileSelected(...n))},null,40,h)):(r(),s("input",{key:1,type:"file",ref:"fileInput",style:{display:"none"},onChange:o[7]||(o[7]=(...n)=>e.onFileSelected&&e.onFileSelected(...n))},null,544))],2)}var q=$(A,[["render",j],["__scopeId","data-v-bbf53022"]]);const c={"m-file-drop-area":q};var T=O(async({app:e})=>{for(const o in c)e.component(o,c[o])});export{T as default};
