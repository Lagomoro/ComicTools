import{d as $,r as f,_ as L,k as r,l as s,m as D,f as p,n as v,p as g,t as m,Q as y,q as b,u as F,v as H,j as O}from"./index.6c8c178c.js";var A=$({props:{placeholder:{type:String,default:"\u62D6\u62FD\u6587\u4EF6\u5230\u6B64\uFF0C\u6216\u70B9\u51FB\u9009\u62E9\u6587\u4EF6"},clickHolder:{type:String,default:"\u70B9\u51FB\u9009\u62E9\u6587\u4EF6"},dragHolder:{type:String,default:"\u91CA\u653E\u9F20\u6807\u653E\u7F6E\u6587\u4EF6"},filter:{type:Array,default:[]}},emits:["upload"],setup(e,n){const t=f(null),i=f(!1),a=f(!1);function d(l){l&&(e.filter.length===0||e.filter.filter(u=>l.name.endsWith(`.${u}`)).length>0)&&n.emit("upload",l)}function o(){i.value=!0}function k(){i.value=!1}function M(){a.value=!0}function E(){a.value=!1}function C(l){var u;a.value=!1,d((u=l.dataTransfer)==null?void 0:u.files[0])}function S(){var l;d((l=t.value.files)==null?void 0:l[0])}function B(){t.value.click()}return{fileInput:t,isMoving:i,isDragging:a,onMouseOver:o,onMouseLeave:k,onDragOver:M,onDragLeave:E,onDrop:C,onFileSelected:S,selectFile:B}}});const I={class:"q-ma-xl relative-position"},w={key:0,class:"m--absolute-center flex flex-center no-pointer-events"},N={key:1,class:"m--absolute-center flex flex-center no-pointer-events"},V={key:0,class:"absolute-bottom q-pa-sm flex flex-center no-pointer-events"},h=["accept"];function j(e,n,t,i,a,d){return r(),s("div",{class:H("m--drop-area"+(e.isDragging?" --dragging":""))},[D("div",{class:"fit flex flex-center relative-position",onDragover:n[0]||(n[0]=F((...o)=>e.onDragOver&&e.onDragOver(...o),["prevent"])),onDragleave:n[1]||(n[1]=(...o)=>e.onDragLeave&&e.onDragLeave(...o)),onDrop:n[2]||(n[2]=F((...o)=>e.onDrop&&e.onDrop(...o),["prevent"])),onClick:n[3]||(n[3]=(...o)=>e.selectFile&&e.selectFile(...o)),onMouseover:n[4]||(n[4]=(...o)=>e.onMouseOver&&e.onMouseOver(...o)),onMouseleave:n[5]||(n[5]=(...o)=>e.onMouseLeave&&e.onMouseLeave(...o))},[D("div",I,[e.filter.length>0?(r(),s("div",w,[p(y,{style:{transform:"translate(0, -4px)"}},{default:v(()=>[g(m(e.isDragging?e.dragHolder:e.isMoving?e.clickHolder:e.placeholder),1)]),_:1})])):(r(),s("div",N,[p(y,null,{default:v(()=>[g(m(e.isDragging?e.dragHolder:e.isMoving?e.clickHolder:e.placeholder),1)]),_:1})]))]),e.filter.length>0?(r(),s("div",V,[p(y,{caption:""},{default:v(()=>[g("\u63A5\u53D7\u7684\u6587\u4EF6\u7C7B\u578B\uFF1A"+m(e.filter.map(o=>`*.${o}`).join(" ")),1)]),_:1})])):b("",!0)],32),e.filter.length>0?(r(),s("input",{key:0,type:"file",accept:e.filter.map(o=>`.${o}`).join(", "),ref:"fileInput",style:{display:"none"},onChange:n[6]||(n[6]=(...o)=>e.onFileSelected&&e.onFileSelected(...o))},null,40,h)):(r(),s("input",{key:1,type:"file",ref:"fileInput",style:{display:"none"},onChange:n[7]||(n[7]=(...o)=>e.onFileSelected&&e.onFileSelected(...o))},null,544))],2)}var q=L(A,[["render",j],["__scopeId","data-v-4c835ae4"]]);const c={"m-file-drop-area":q};var T=O(async({app:e})=>{for(const n in c)e.component(n,c[n])});export{T as default};
