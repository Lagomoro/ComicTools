// ================================================================================
// * Module dependencies
// --------------------------------------------------------------------------------

// ================================================================================

// ================================================================================
//# region ObjectUtil
// --------------------------------------------------------------------------------
export class ObjectUtil{
  // ------------------------------------------------------------------------------
  // * Function
  // ------------------------------------------------------------------------------
  //# region toString
  // ------------------------------------------------------------------------------
  public static toString(object: any, replacer?: (key: string, value: any) => any, space?: number): string {
    const set = new WeakSet();
    return JSON.stringify(object, (key: string, value: any) => {
      if (value instanceof Function) {
        return;
      } else if (value instanceof Object) {
        if (set.has(value)) {
          return;
        }
        set.add(value);
      }else if (replacer) {
        const result = replacer(key, value);
        if(result !== undefined){
          return result;
        }
      }
      return value;
    }, space);
  };
  // ------------------------------------------------------------------------------
  //# endregion
  // ------------------------------------------------------------------------------
  //# region Copy
  // ------------------------------------------------------------------------------
  public static deepCopy<T>(object: T): T{
    return JSON.parse(this.toString(object));
  };
  // ------------------------------------------------------------------------------
  //# endregion
  // ------------------------------------------------------------------------------
}
// --------------------------------------------------------------------------------
//# endregion
// ================================================================================

// ================================================================================
// * Module exports
// --------------------------------------------------------------------------------
export default ObjectUtil;
// ================================================================================
